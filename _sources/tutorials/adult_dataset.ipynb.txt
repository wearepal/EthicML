{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Runnning experiments on the Adult dataset\n",
    "\n",
    "## Installation\n",
    "\n",
    "First we need to install EthicML. You can install it from PyPI:\n",
    "\n",
    "```\n",
    "pip install ethicml\n",
    "```"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Loading the data\n",
    "\n",
    "EthicML includes some often used datasets from fairness literature.\n",
    "First, we load one of these... in this example we load the UCI Adult dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import ethicml as em\n",
    "from ethicml.data import Adult\n",
    "\n",
    "adult = Adult()\n",
    "data: em.DataTuple = adult.load()\n",
    "assert (45222, 101) == data.x.shape\n",
    "assert (45222,) == data.s.shape\n",
    "assert (45222,) == data.y.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This loads the dataset as a DataTuple, which comprises $x$ (features), $s$ (sensitive attribute and $y$ (class label). Each member of the DataTuple is stored as a Pandas DataFrame.\n",
    "\n",
    "By default, the Adult dataset uses the binary attribute `sex_Male` as the sensitive feature."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>sex_Male</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   sex_Male\n",
       "0         1\n",
       "1         1\n",
       "2         1\n",
       "3         1\n",
       "4         0"
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.s.to_frame().head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "If we want to run experiments using race as the sensitive attribute we could change that manually, or, as this is a common task, EthicML can split the data for you."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "data: em.DataTuple = Adult(split=Adult.Splits.RACE).load()\n",
    "assert (45222, 98) == data.x.shape\n",
    "assert (45222,) == data.s.shape\n",
    "assert (45222,) == data.y.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>race</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   race\n",
       "0     4\n",
       "1     4\n",
       "2     4\n",
       "3     2\n",
       "4     4"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.s.to_frame().head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "However, we're going to be repeating some of the experiments from FairGP. In that paper they do experiments with race as the sensitive attribute, but the value is binary. The value of race is White or Not_White.\n",
    "\n",
    "Fortunately, EthicML has a split for that: `RACE_BINARY`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "data = Adult(split=Adult.Splits.RACE_BINARY).load()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>race_White</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   race_White\n",
       "0           1\n",
       "1           1\n",
       "2           1\n",
       "3           0\n",
       "4           1"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.s.to_frame().head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Evaluating some models"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[Parallel(n_jobs=1)]: Using backend SequentialBackend with 1 concurrent workers.\n",
      "[Parallel(n_jobs=1)]: Done   1 out of   1 | elapsed:    0.2s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   2 out of   2 | elapsed:    0.5s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   3 out of   3 | elapsed:    1.6s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   4 out of   4 | elapsed:    2.2s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   5 out of   5 | elapsed:    2.4s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   6 out of   6 | elapsed:    2.7s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   6 out of   6 | elapsed:    2.7s finished\n",
      "[Parallel(n_jobs=1)]: Using backend SequentialBackend with 1 concurrent workers.\n",
      "[Parallel(n_jobs=1)]: Done   1 out of   1 | elapsed:    0.3s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   2 out of   2 | elapsed:    0.4s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   2 out of   2 | elapsed:    0.4s finished\n",
      "[Parallel(n_jobs=1)]: Using backend SequentialBackend with 1 concurrent workers.\n",
      "[Parallel(n_jobs=1)]: Done   1 out of   1 | elapsed:    0.2s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   2 out of   2 | elapsed:    0.4s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   3 out of   3 | elapsed:    1.1s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   4 out of   4 | elapsed:    1.6s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   5 out of   5 | elapsed:    1.9s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   6 out of   6 | elapsed:    2.1s remaining:    0.0s\n",
      "[Parallel(n_jobs=1)]: Done   6 out of   6 | elapsed:    2.1s finished\n"
     ]
    }
   ],
   "source": [
    "from ethicml.run import evaluate_models\n",
    "from ethicml.models import LR, Reweighting, SVM, Upsampler\n",
    "from ethicml.metrics import Accuracy, CV, ProbPos, TPR\n",
    "\n",
    "results = evaluate_models(\n",
    "    datasets=[em.data.Adult(split=Adult.Splits.RACE_BINARY)],\n",
    "    preprocess_models=[Upsampler()],\n",
    "    inprocess_models=[LR(), SVM(kernel=em.KernelType.linear), Reweighting()],\n",
    "    metrics=[Accuracy(), CV()],\n",
    "    per_sens_metrics=[Accuracy(), TPR(), ProbPos()],\n",
    "    repeats=2,\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th>model_seed</th>\n",
       "      <th>seed</th>\n",
       "      <th>C</th>\n",
       "      <th>Accuracy</th>\n",
       "      <th>CV</th>\n",
       "      <th>Accuracy_race_White_1</th>\n",
       "      <th>Accuracy_race_White_0</th>\n",
       "      <th>Accuracy_race_White_0-race_White_1</th>\n",
       "      <th>Accuracy_race_White_0÷race_White_1</th>\n",
       "      <th>TPR_race_White_1</th>\n",
       "      <th>TPR_race_White_0</th>\n",
       "      <th>TPR_race_White_0-race_White_1</th>\n",
       "      <th>TPR_race_White_0÷race_White_1</th>\n",
       "      <th>prob_pos_race_White_1</th>\n",
       "      <th>prob_pos_race_White_0</th>\n",
       "      <th>prob_pos_race_White_0-race_White_1</th>\n",
       "      <th>prob_pos_race_White_0÷race_White_1</th>\n",
       "      <th>kernel</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>dataset</th>\n",
       "      <th>scaler</th>\n",
       "      <th>transform</th>\n",
       "      <th>model</th>\n",
       "      <th>split_id</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th rowspan=\"12\" valign=\"top\">Adult Race-Binary</th>\n",
       "      <th rowspan=\"12\" valign=\"top\">None</th>\n",
       "      <th rowspan=\"6\" valign=\"top\">no_transform</th>\n",
       "      <th>Logistic Regression (C=1.0)</th>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.851078</td>\n",
       "      <td>0.925891</td>\n",
       "      <td>0.843309</td>\n",
       "      <td>0.899126</td>\n",
       "      <td>0.055818</td>\n",
       "      <td>0.937920</td>\n",
       "      <td>0.613392</td>\n",
       "      <td>0.621495</td>\n",
       "      <td>0.008103</td>\n",
       "      <td>0.986962</td>\n",
       "      <td>0.216286</td>\n",
       "      <td>0.142176</td>\n",
       "      <td>0.074109</td>\n",
       "      <td>0.657354</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>SVM (linear)</th>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.851962</td>\n",
       "      <td>0.914970</td>\n",
       "      <td>0.844464</td>\n",
       "      <td>0.898332</td>\n",
       "      <td>0.053868</td>\n",
       "      <td>0.940036</td>\n",
       "      <td>0.619746</td>\n",
       "      <td>0.593458</td>\n",
       "      <td>0.026288</td>\n",
       "      <td>0.957583</td>\n",
       "      <td>0.218469</td>\n",
       "      <td>0.133439</td>\n",
       "      <td>0.085030</td>\n",
       "      <td>0.610792</td>\n",
       "      <td>linear</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Kamiran &amp; Calders lr C=1.0</th>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.850636</td>\n",
       "      <td>0.931427</td>\n",
       "      <td>0.843565</td>\n",
       "      <td>0.894361</td>\n",
       "      <td>0.050795</td>\n",
       "      <td>0.943205</td>\n",
       "      <td>0.612414</td>\n",
       "      <td>0.621495</td>\n",
       "      <td>0.009081</td>\n",
       "      <td>0.985389</td>\n",
       "      <td>0.215515</td>\n",
       "      <td>0.146942</td>\n",
       "      <td>0.068573</td>\n",
       "      <td>0.681818</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Logistic Regression (C=1.0)</th>\n",
       "      <th>1</th>\n",
       "      <td>1.0</td>\n",
       "      <td>2410.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.841902</td>\n",
       "      <td>0.931427</td>\n",
       "      <td>0.835231</td>\n",
       "      <td>0.884365</td>\n",
       "      <td>0.049134</td>\n",
       "      <td>0.944442</td>\n",
       "      <td>0.570395</td>\n",
       "      <td>0.553922</td>\n",
       "      <td>0.016474</td>\n",
       "      <td>0.971119</td>\n",
       "      <td>0.202124</td>\n",
       "      <td>0.133550</td>\n",
       "      <td>0.068573</td>\n",
       "      <td>0.660737</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>SVM (linear)</th>\n",
       "      <th>1</th>\n",
       "      <td>1.0</td>\n",
       "      <td>2410.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.843449</td>\n",
       "      <td>0.929112</td>\n",
       "      <td>0.836382</td>\n",
       "      <td>0.888436</td>\n",
       "      <td>0.052054</td>\n",
       "      <td>0.941409</td>\n",
       "      <td>0.572324</td>\n",
       "      <td>0.558824</td>\n",
       "      <td>0.013500</td>\n",
       "      <td>0.976411</td>\n",
       "      <td>0.201996</td>\n",
       "      <td>0.131107</td>\n",
       "      <td>0.070888</td>\n",
       "      <td>0.649061</td>\n",
       "      <td>linear</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Kamiran &amp; Calders lr C=1.0</th>\n",
       "      <th>1</th>\n",
       "      <td>1.0</td>\n",
       "      <td>2410.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.844002</td>\n",
       "      <td>0.932603</td>\n",
       "      <td>0.837150</td>\n",
       "      <td>0.887622</td>\n",
       "      <td>0.050472</td>\n",
       "      <td>0.943138</td>\n",
       "      <td>0.581003</td>\n",
       "      <td>0.578431</td>\n",
       "      <td>0.002572</td>\n",
       "      <td>0.995574</td>\n",
       "      <td>0.205833</td>\n",
       "      <td>0.138436</td>\n",
       "      <td>0.067397</td>\n",
       "      <td>0.672566</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th rowspan=\"6\" valign=\"top\">Upsample uniform</th>\n",
       "      <th>Logistic Regression (C=1.0)</th>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.849309</td>\n",
       "      <td>0.923988</td>\n",
       "      <td>0.841896</td>\n",
       "      <td>0.895155</td>\n",
       "      <td>0.053259</td>\n",
       "      <td>0.940503</td>\n",
       "      <td>0.615836</td>\n",
       "      <td>0.612150</td>\n",
       "      <td>0.003686</td>\n",
       "      <td>0.994014</td>\n",
       "      <td>0.218983</td>\n",
       "      <td>0.142971</td>\n",
       "      <td>0.076012</td>\n",
       "      <td>0.652885</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>SVM (linear)</th>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.850083</td>\n",
       "      <td>0.929254</td>\n",
       "      <td>0.842538</td>\n",
       "      <td>0.896743</td>\n",
       "      <td>0.054206</td>\n",
       "      <td>0.939553</td>\n",
       "      <td>0.607038</td>\n",
       "      <td>0.616822</td>\n",
       "      <td>0.009784</td>\n",
       "      <td>0.984138</td>\n",
       "      <td>0.213717</td>\n",
       "      <td>0.142971</td>\n",
       "      <td>0.070746</td>\n",
       "      <td>0.668972</td>\n",
       "      <td>linear</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Kamiran &amp; Calders lr C=1.0</th>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.850636</td>\n",
       "      <td>0.925529</td>\n",
       "      <td>0.843437</td>\n",
       "      <td>0.895155</td>\n",
       "      <td>0.051718</td>\n",
       "      <td>0.942225</td>\n",
       "      <td>0.615836</td>\n",
       "      <td>0.612150</td>\n",
       "      <td>0.003686</td>\n",
       "      <td>0.994014</td>\n",
       "      <td>0.217442</td>\n",
       "      <td>0.142971</td>\n",
       "      <td>0.074471</td>\n",
       "      <td>0.657513</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Logistic Regression (C=1.0)</th>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>2410.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.842565</td>\n",
       "      <td>0.936138</td>\n",
       "      <td>0.835871</td>\n",
       "      <td>0.885179</td>\n",
       "      <td>0.049309</td>\n",
       "      <td>0.944295</td>\n",
       "      <td>0.570395</td>\n",
       "      <td>0.568627</td>\n",
       "      <td>0.001768</td>\n",
       "      <td>0.996901</td>\n",
       "      <td>0.201484</td>\n",
       "      <td>0.137622</td>\n",
       "      <td>0.063862</td>\n",
       "      <td>0.683043</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>SVM (linear)</th>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>2410.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.840575</td>\n",
       "      <td>0.946316</td>\n",
       "      <td>0.833440</td>\n",
       "      <td>0.885993</td>\n",
       "      <td>0.052554</td>\n",
       "      <td>0.940684</td>\n",
       "      <td>0.557377</td>\n",
       "      <td>0.588235</td>\n",
       "      <td>0.030858</td>\n",
       "      <td>0.947541</td>\n",
       "      <td>0.197007</td>\n",
       "      <td>0.143322</td>\n",
       "      <td>0.053684</td>\n",
       "      <td>0.727501</td>\n",
       "      <td>linear</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Kamiran &amp; Calders lr C=1.0</th>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>2410.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.842565</td>\n",
       "      <td>0.936138</td>\n",
       "      <td>0.835871</td>\n",
       "      <td>0.885179</td>\n",
       "      <td>0.049309</td>\n",
       "      <td>0.944295</td>\n",
       "      <td>0.570395</td>\n",
       "      <td>0.568627</td>\n",
       "      <td>0.001768</td>\n",
       "      <td>0.996901</td>\n",
       "      <td>0.201484</td>\n",
       "      <td>0.137622</td>\n",
       "      <td>0.063862</td>\n",
       "      <td>0.683043</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                                                model_seed  \\\n",
       "dataset           scaler transform        model                       split_id               \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                0.0   \n",
       "                                          SVM (linear)                0                0.0   \n",
       "                                          Kamiran & Calders lr C=1.0  0                0.0   \n",
       "                                          Logistic Regression (C=1.0) 1                1.0   \n",
       "                                          SVM (linear)                1                1.0   \n",
       "                                          Kamiran & Calders lr C=1.0  1                1.0   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                0.0   \n",
       "                                          SVM (linear)                0                0.0   \n",
       "                                          Kamiran & Calders lr C=1.0  0                0.0   \n",
       "                                          Logistic Regression (C=1.0) 1                0.0   \n",
       "                                          SVM (linear)                1                0.0   \n",
       "                                          Kamiran & Calders lr C=1.0  1                0.0   \n",
       "\n",
       "                                                                                  seed  \\\n",
       "dataset           scaler transform        model                       split_id           \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0            0.0   \n",
       "                                          SVM (linear)                0            0.0   \n",
       "                                          Kamiran & Calders lr C=1.0  0            0.0   \n",
       "                                          Logistic Regression (C=1.0) 1         2410.0   \n",
       "                                          SVM (linear)                1         2410.0   \n",
       "                                          Kamiran & Calders lr C=1.0  1         2410.0   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0            0.0   \n",
       "                                          SVM (linear)                0            0.0   \n",
       "                                          Kamiran & Calders lr C=1.0  0            0.0   \n",
       "                                          Logistic Regression (C=1.0) 1         2410.0   \n",
       "                                          SVM (linear)                1         2410.0   \n",
       "                                          Kamiran & Calders lr C=1.0  1         2410.0   \n",
       "\n",
       "                                                                                  C  \\\n",
       "dataset           scaler transform        model                       split_id        \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0         1.0   \n",
       "                                          SVM (linear)                0         1.0   \n",
       "                                          Kamiran & Calders lr C=1.0  0         NaN   \n",
       "                                          Logistic Regression (C=1.0) 1         1.0   \n",
       "                                          SVM (linear)                1         1.0   \n",
       "                                          Kamiran & Calders lr C=1.0  1         NaN   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0         1.0   \n",
       "                                          SVM (linear)                0         1.0   \n",
       "                                          Kamiran & Calders lr C=1.0  0         NaN   \n",
       "                                          Logistic Regression (C=1.0) 1         1.0   \n",
       "                                          SVM (linear)                1         1.0   \n",
       "                                          Kamiran & Calders lr C=1.0  1         NaN   \n",
       "\n",
       "                                                                                Accuracy  \\\n",
       "dataset           scaler transform        model                       split_id             \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0         0.851078   \n",
       "                                          SVM (linear)                0         0.851962   \n",
       "                                          Kamiran & Calders lr C=1.0  0         0.850636   \n",
       "                                          Logistic Regression (C=1.0) 1         0.841902   \n",
       "                                          SVM (linear)                1         0.843449   \n",
       "                                          Kamiran & Calders lr C=1.0  1         0.844002   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0         0.849309   \n",
       "                                          SVM (linear)                0         0.850083   \n",
       "                                          Kamiran & Calders lr C=1.0  0         0.850636   \n",
       "                                          Logistic Regression (C=1.0) 1         0.842565   \n",
       "                                          SVM (linear)                1         0.840575   \n",
       "                                          Kamiran & Calders lr C=1.0  1         0.842565   \n",
       "\n",
       "                                                                                      CV  \\\n",
       "dataset           scaler transform        model                       split_id             \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0         0.925891   \n",
       "                                          SVM (linear)                0         0.914970   \n",
       "                                          Kamiran & Calders lr C=1.0  0         0.931427   \n",
       "                                          Logistic Regression (C=1.0) 1         0.931427   \n",
       "                                          SVM (linear)                1         0.929112   \n",
       "                                          Kamiran & Calders lr C=1.0  1         0.932603   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0         0.923988   \n",
       "                                          SVM (linear)                0         0.929254   \n",
       "                                          Kamiran & Calders lr C=1.0  0         0.925529   \n",
       "                                          Logistic Regression (C=1.0) 1         0.936138   \n",
       "                                          SVM (linear)                1         0.946316   \n",
       "                                          Kamiran & Calders lr C=1.0  1         0.936138   \n",
       "\n",
       "                                                                                Accuracy_race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                          \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                      0.843309   \n",
       "                                          SVM (linear)                0                      0.844464   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.843565   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.835231   \n",
       "                                          SVM (linear)                1                      0.836382   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.837150   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                      0.841896   \n",
       "                                          SVM (linear)                0                      0.842538   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.843437   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.835871   \n",
       "                                          SVM (linear)                1                      0.833440   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.835871   \n",
       "\n",
       "                                                                                Accuracy_race_White_0  \\\n",
       "dataset           scaler transform        model                       split_id                          \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                      0.899126   \n",
       "                                          SVM (linear)                0                      0.898332   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.894361   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.884365   \n",
       "                                          SVM (linear)                1                      0.888436   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.887622   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                      0.895155   \n",
       "                                          SVM (linear)                0                      0.896743   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.895155   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.885179   \n",
       "                                          SVM (linear)                1                      0.885993   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.885179   \n",
       "\n",
       "                                                                                Accuracy_race_White_0-race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                                       \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                                   0.055818   \n",
       "                                          SVM (linear)                0                                   0.053868   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.050795   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.049134   \n",
       "                                          SVM (linear)                1                                   0.052054   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.050472   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                                   0.053259   \n",
       "                                          SVM (linear)                0                                   0.054206   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.051718   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.049309   \n",
       "                                          SVM (linear)                1                                   0.052554   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.049309   \n",
       "\n",
       "                                                                                Accuracy_race_White_0÷race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                                       \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                                   0.937920   \n",
       "                                          SVM (linear)                0                                   0.940036   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.943205   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.944442   \n",
       "                                          SVM (linear)                1                                   0.941409   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.943138   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                                   0.940503   \n",
       "                                          SVM (linear)                0                                   0.939553   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.942225   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.944295   \n",
       "                                          SVM (linear)                1                                   0.940684   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.944295   \n",
       "\n",
       "                                                                                TPR_race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                     \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                 0.613392   \n",
       "                                          SVM (linear)                0                 0.619746   \n",
       "                                          Kamiran & Calders lr C=1.0  0                 0.612414   \n",
       "                                          Logistic Regression (C=1.0) 1                 0.570395   \n",
       "                                          SVM (linear)                1                 0.572324   \n",
       "                                          Kamiran & Calders lr C=1.0  1                 0.581003   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                 0.615836   \n",
       "                                          SVM (linear)                0                 0.607038   \n",
       "                                          Kamiran & Calders lr C=1.0  0                 0.615836   \n",
       "                                          Logistic Regression (C=1.0) 1                 0.570395   \n",
       "                                          SVM (linear)                1                 0.557377   \n",
       "                                          Kamiran & Calders lr C=1.0  1                 0.570395   \n",
       "\n",
       "                                                                                TPR_race_White_0  \\\n",
       "dataset           scaler transform        model                       split_id                     \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                 0.621495   \n",
       "                                          SVM (linear)                0                 0.593458   \n",
       "                                          Kamiran & Calders lr C=1.0  0                 0.621495   \n",
       "                                          Logistic Regression (C=1.0) 1                 0.553922   \n",
       "                                          SVM (linear)                1                 0.558824   \n",
       "                                          Kamiran & Calders lr C=1.0  1                 0.578431   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                 0.612150   \n",
       "                                          SVM (linear)                0                 0.616822   \n",
       "                                          Kamiran & Calders lr C=1.0  0                 0.612150   \n",
       "                                          Logistic Regression (C=1.0) 1                 0.568627   \n",
       "                                          SVM (linear)                1                 0.588235   \n",
       "                                          Kamiran & Calders lr C=1.0  1                 0.568627   \n",
       "\n",
       "                                                                                TPR_race_White_0-race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                                  \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                              0.008103   \n",
       "                                          SVM (linear)                0                              0.026288   \n",
       "                                          Kamiran & Calders lr C=1.0  0                              0.009081   \n",
       "                                          Logistic Regression (C=1.0) 1                              0.016474   \n",
       "                                          SVM (linear)                1                              0.013500   \n",
       "                                          Kamiran & Calders lr C=1.0  1                              0.002572   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                              0.003686   \n",
       "                                          SVM (linear)                0                              0.009784   \n",
       "                                          Kamiran & Calders lr C=1.0  0                              0.003686   \n",
       "                                          Logistic Regression (C=1.0) 1                              0.001768   \n",
       "                                          SVM (linear)                1                              0.030858   \n",
       "                                          Kamiran & Calders lr C=1.0  1                              0.001768   \n",
       "\n",
       "                                                                                TPR_race_White_0÷race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                                  \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                              0.986962   \n",
       "                                          SVM (linear)                0                              0.957583   \n",
       "                                          Kamiran & Calders lr C=1.0  0                              0.985389   \n",
       "                                          Logistic Regression (C=1.0) 1                              0.971119   \n",
       "                                          SVM (linear)                1                              0.976411   \n",
       "                                          Kamiran & Calders lr C=1.0  1                              0.995574   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                              0.994014   \n",
       "                                          SVM (linear)                0                              0.984138   \n",
       "                                          Kamiran & Calders lr C=1.0  0                              0.994014   \n",
       "                                          Logistic Regression (C=1.0) 1                              0.996901   \n",
       "                                          SVM (linear)                1                              0.947541   \n",
       "                                          Kamiran & Calders lr C=1.0  1                              0.996901   \n",
       "\n",
       "                                                                                prob_pos_race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                          \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                      0.216286   \n",
       "                                          SVM (linear)                0                      0.218469   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.215515   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.202124   \n",
       "                                          SVM (linear)                1                      0.201996   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.205833   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                      0.218983   \n",
       "                                          SVM (linear)                0                      0.213717   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.217442   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.201484   \n",
       "                                          SVM (linear)                1                      0.197007   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.201484   \n",
       "\n",
       "                                                                                prob_pos_race_White_0  \\\n",
       "dataset           scaler transform        model                       split_id                          \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                      0.142176   \n",
       "                                          SVM (linear)                0                      0.133439   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.146942   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.133550   \n",
       "                                          SVM (linear)                1                      0.131107   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.138436   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                      0.142971   \n",
       "                                          SVM (linear)                0                      0.142971   \n",
       "                                          Kamiran & Calders lr C=1.0  0                      0.142971   \n",
       "                                          Logistic Regression (C=1.0) 1                      0.137622   \n",
       "                                          SVM (linear)                1                      0.143322   \n",
       "                                          Kamiran & Calders lr C=1.0  1                      0.137622   \n",
       "\n",
       "                                                                                prob_pos_race_White_0-race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                                       \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                                   0.074109   \n",
       "                                          SVM (linear)                0                                   0.085030   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.068573   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.068573   \n",
       "                                          SVM (linear)                1                                   0.070888   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.067397   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                                   0.076012   \n",
       "                                          SVM (linear)                0                                   0.070746   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.074471   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.063862   \n",
       "                                          SVM (linear)                1                                   0.053684   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.063862   \n",
       "\n",
       "                                                                                prob_pos_race_White_0÷race_White_1  \\\n",
       "dataset           scaler transform        model                       split_id                                       \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0                                   0.657354   \n",
       "                                          SVM (linear)                0                                   0.610792   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.681818   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.660737   \n",
       "                                          SVM (linear)                1                                   0.649061   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.672566   \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0                                   0.652885   \n",
       "                                          SVM (linear)                0                                   0.668972   \n",
       "                                          Kamiran & Calders lr C=1.0  0                                   0.657513   \n",
       "                                          Logistic Regression (C=1.0) 1                                   0.683043   \n",
       "                                          SVM (linear)                1                                   0.727501   \n",
       "                                          Kamiran & Calders lr C=1.0  1                                   0.683043   \n",
       "\n",
       "                                                                                kernel  \n",
       "dataset           scaler transform        model                       split_id          \n",
       "Adult Race-Binary None   no_transform     Logistic Regression (C=1.0) 0            NaN  \n",
       "                                          SVM (linear)                0         linear  \n",
       "                                          Kamiran & Calders lr C=1.0  0            NaN  \n",
       "                                          Logistic Regression (C=1.0) 1            NaN  \n",
       "                                          SVM (linear)                1         linear  \n",
       "                                          Kamiran & Calders lr C=1.0  1            NaN  \n",
       "                         Upsample uniform Logistic Regression (C=1.0) 0            NaN  \n",
       "                                          SVM (linear)                0         linear  \n",
       "                                          Kamiran & Calders lr C=1.0  0            NaN  \n",
       "                                          Logistic Regression (C=1.0) 1            NaN  \n",
       "                                          SVM (linear)                1         linear  \n",
       "                                          Kamiran & Calders lr C=1.0  1            NaN  "
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead tr th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe thead tr:last-of-type th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th colspan=\"2\" halign=\"left\">Accuracy</th>\n",
       "      <th colspan=\"2\" halign=\"left\">Accuracy_race_White_0÷race_White_1</th>\n",
       "      <th colspan=\"2\" halign=\"left\">TPR_race_White_0÷race_White_1</th>\n",
       "      <th colspan=\"2\" halign=\"left\">prob_pos_race_White_0÷race_White_1</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>dataset</th>\n",
       "      <th>scaler</th>\n",
       "      <th>transform</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th rowspan=\"2\" valign=\"top\">Adult Race-Binary</th>\n",
       "      <th rowspan=\"2\" valign=\"top\">None</th>\n",
       "      <th>Upsample uniform</th>\n",
       "      <td>0.845955</td>\n",
       "      <td>0.004519</td>\n",
       "      <td>0.941926</td>\n",
       "      <td>0.002026</td>\n",
       "      <td>0.985585</td>\n",
       "      <td>0.019223</td>\n",
       "      <td>0.678826</td>\n",
       "      <td>0.026941</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>no_transform</th>\n",
       "      <td>0.847172</td>\n",
       "      <td>0.004514</td>\n",
       "      <td>0.941692</td>\n",
       "      <td>0.002408</td>\n",
       "      <td>0.978839</td>\n",
       "      <td>0.013463</td>\n",
       "      <td>0.655388</td>\n",
       "      <td>0.024718</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                           Accuracy            \\\n",
       "                                               mean       std   \n",
       "dataset           scaler transform                              \n",
       "Adult Race-Binary None   Upsample uniform  0.845955  0.004519   \n",
       "                         no_transform      0.847172  0.004514   \n",
       "\n",
       "                                          Accuracy_race_White_0÷race_White_1  \\\n",
       "                                                                        mean   \n",
       "dataset           scaler transform                                             \n",
       "Adult Race-Binary None   Upsample uniform                           0.941926   \n",
       "                         no_transform                               0.941692   \n",
       "\n",
       "                                                     \\\n",
       "                                                std   \n",
       "dataset           scaler transform                    \n",
       "Adult Race-Binary None   Upsample uniform  0.002026   \n",
       "                         no_transform      0.002408   \n",
       "\n",
       "                                          TPR_race_White_0÷race_White_1  \\\n",
       "                                                                   mean   \n",
       "dataset           scaler transform                                        \n",
       "Adult Race-Binary None   Upsample uniform                      0.985585   \n",
       "                         no_transform                          0.978839   \n",
       "\n",
       "                                                     \\\n",
       "                                                std   \n",
       "dataset           scaler transform                    \n",
       "Adult Race-Binary None   Upsample uniform  0.019223   \n",
       "                         no_transform      0.013463   \n",
       "\n",
       "                                          prob_pos_race_White_0÷race_White_1  \\\n",
       "                                                                        mean   \n",
       "dataset           scaler transform                                             \n",
       "Adult Race-Binary None   Upsample uniform                           0.678826   \n",
       "                         no_transform                               0.655388   \n",
       "\n",
       "                                                     \n",
       "                                                std  \n",
       "dataset           scaler transform                   \n",
       "Adult Race-Binary None   Upsample uniform  0.026941  \n",
       "                         no_transform      0.024718  "
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results[\n",
    "    ['Accuracy', 'Accuracy_race_White_0÷race_White_1', 'TPR_race_White_0÷race_White_1', 'prob_pos_race_White_0÷race_White_1']\n",
    "].groupby(level=[0, 1, 2]).agg(['mean', 'std'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
